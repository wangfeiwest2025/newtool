<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>È¢úËâ≤‰ª£Á†ÅËΩ¨Êç¢Â∑•ÂÖ∑ - New ToolsHub</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üõ†Ô∏è</text></svg>">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/fontawesome-all.min.css">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#007bff">
    <style>
        .color-converter {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        @media (max-width: 768px) {
            .color-converter {
                grid-template-columns: 1fr;
            }
        }
        
        .color-preview {
            width: 100%;
            height: 200px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            transition: all 0.3s ease;
        }
        
        .color-preview-text {
            font-size: 24px;
            font-weight: bold;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .color-input-group {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            margin-bottom: 15px;
        }
        
        .color-input {
            width: 100%;
            padding: 12px;
            font-family: 'Consolas', monospace;
            font-size: 16px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .color-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .color-picker-wrapper {
            display: flex;
            gap: 15px;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .color-picker {
            width: 60px;
            height: 60px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }
        
        .format-tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 20px;
            background: #f8f9fa;
            padding: 5px;
            border-radius: 8px;
        }
        
        .format-tab {
            flex: 1;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .format-tab.active {
            background: #667eea;
            color: white;
        }
        
        .format-tab:hover:not(.active) {
            background: #e9ecef;
        }
        
        .format-content {
            display: none;
        }
        
        .format-content.active {
            display: block;
        }
        
        .input-row {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            align-items: center;
        }
        
        .input-row label {
            min-width: 80px;
            font-weight: 500;
        }
        
        .input-row input {
            flex: 1;
        }
        
        .slider-input {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .slider-input input[type="range"] {
            flex: 1;
        }
        
        .slider-input input[type="number"] {
            width: 70px;
        }
        
        .palette-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }
        
        .palette-item {
            height: 60px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding-bottom: 5px;
            font-size: 10px;
            font-weight: bold;
            transition: transform 0.2s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .palette-item:hover {
            transform: scale(1.1);
            z-index: 10;
        }
        
        .quick-colors {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 5px;
            margin-bottom: 20px;
        }
        
        .quick-color {
            aspect-ratio: 1;
            border-radius: 6px;
            cursor: pointer;
            transition: transform 0.2s;
            border: 2px solid transparent;
        }
        
        .quick-color:hover {
            transform: scale(1.15);
            border-color: #333;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .gradient-preview {
            height: 100px;
            border-radius: 8px;
            margin-top: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg" style="background: linear-gradient(135deg, #4361ee, #3f37c9); padding: 1rem 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
        <div class="container">
            <a class="navbar-brand" href="/" style="color: white; font-weight: 700; display: flex; align-items: center;">
                <i class="fas fa-tools"></i> New ToolsHub
            </a>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="tool-container">
            <div class="tool-header">
                <h1 class="tool-title"><i class="fas fa-palette"></i> È¢úËâ≤‰ª£Á†ÅËΩ¨Êç¢Â∑•ÂÖ∑</h1>
                <p class="tool-description">ËΩ¨Êç¢‰∏çÂêåÈ¢úËâ≤Ê†ºÂºèÔºöHEX„ÄÅRGB„ÄÅRGBA„ÄÅHSL„ÄÅHSVÔºåÊèê‰æõÈ¢úËâ≤ÈÄâÊã©Âô®ÂíåÈ¢ÑËÆæË∞ÉËâ≤Êùø„ÄÇ</p>
            </div>
            
            <div class="color-preview" id="colorPreview" style="background: #667eea;">
                <div class="color-preview-text" id="previewText">#667eea</div>
            </div>
            
            <div class="format-tabs">
                <div class="format-tab active" onclick="switchTab('hex')">HEX</div>
                <div class="format-tab" onclick="switchTab('rgb')">RGB</div>
                <div class="format-tab" onclick="switchTab('hsl')">HSL</div>
                <div class="format-tab" onclick="switchTab('hsv')">HSV</div>
            </div>
            
            <div class="color-converter">
                <div>
                    <div class="format-content active" id="hexTab">
                        <div class="color-input-group">
                            <label class="form-label">HEX È¢úËâ≤‰ª£Á†Å</label>
                            <div class="color-picker-wrapper">
                                <input type="color" id="hexPicker" class="color-picker" value="#667eea">
                                <input type="text" id="hexInput" class="color-input" value="#667eea" placeholder="#RRGGBB">
                            </div>
                        </div>
                        <div class="color-input-group">
                            <label class="form-label">HEX8 (Â∏¶ÈÄèÊòéÂ∫¶)</label>
                            <input type="text" id="hex8Input" class="color-input" value="#667eeaFF" placeholder="#RRGGBBAA">
                        </div>
                    </div>
                    
                    <div class="format-content" id="rgbTab">
                        <div class="color-input-group">
                            <label class="form-label">RGB ÂÄº</label>
                            <div class="input-row">
                                <label>R:</label>
                                <div class="slider-input">
                                    <input type="range" id="rSlider" min="0" max="255" value="102">
                                    <input type="number" id="rInput" min="0" max="255" value="102">
                                </div>
                            </div>
                            <div class="input-row">
                                <label>G:</label>
                                <div class="slider-input">
                                    <input type="range" id="gSlider" min="0" max="255" value="126">
                                    <input type="number" id="gInput" min="0" max="255" value="126">
                                </div>
                            </div>
                            <div class="input-row">
                                <label>B:</label>
                                <div class="slider-input">
                                    <input type="range" id="bSlider" min="0" max="255" value="234">
                                    <input type="number" id="bInput" min="0" max="255" value="234">
                                </div>
                            </div>
                            <div class="input-row">
                                <label>A:</label>
                                <div class="slider-input">
                                    <input type="range" id="aSlider" min="0" max="100" value="100">
                                    <input type="number" id="aInput" min="0" max="100" value="100">
                                </div>
                            </div>
                            <input type="text" id="rgbInput" class="color-input mt-3" value="rgb(102, 126, 234)" readonly>
                            <input type="text" id="rgbaInput" class="color-input mt-2" value="rgba(102, 126, 234, 1)" readonly>
                        </div>
                    </div>
                    
                    <div class="format-content" id="hslTab">
                        <div class="color-input-group">
                            <label class="form-label">HSL ÂÄº</label>
                            <div class="input-row">
                                <label>H:</label>
                                <div class="slider-input">
                                    <input type="range" id="hSlider" min="0" max="360" value="230">
                                    <input type="number" id="hInput" min="0" max="360" value="230">
                                </div>
                            </div>
                            <div class="input-row">
                                <label>S:</label>
                                <div class="slider-input">
                                    <input type="range" id="sSlider" min="0" max="100" value="75">
                                    <input type="number" id="sInput" min="0" max="100" value="75">
                                </div>
                            </div>
                            <div class="input-row">
                                <label>L:</label>
                                <div class="slider-input">
                                    <input type="range" id="lSlider" min="0" max="100" value="66">
                                    <input type="number" id="lInput" min="0" max="100" value="66">
                                </div>
                            </div>
                            <input type="text" id="hslInput" class="color-input mt-3" value="hsl(230, 75%, 66%)" readonly>
                        </div>
                    </div>
                    
                    <div class="format-content" id="hsvTab">
                        <div class="color-input-group">
                            <label class="form-label">HSV ÂÄº</label>
                            <div class="input-row">
                                <label>H:</label>
                                <div class="slider-input">
                                    <input type="range" id="hsvHSlider" min="0" max="360" value="230">
                                    <input type="number" id="hsvHInput" min="0" max="360" value="230">
                                </div>
                            </div>
                            <div class="input-row">
                                <label>S:</label>
                                <div class="slider-input">
                                    <input type="range" id="hsvSSlider" min="0" max="100" value="56">
                                    <input type="number" id="hsvSInput" min="0" max="100" value="56">
                                </div>
                            </div>
                            <div class="input-row">
                                <label>V:</label>
                                <div class="slider-input">
                                    <input type="range" id="hsvVSlider" min="0" max="100" value="92">
                                    <input type="number" id="hsvVInput" min="0" max="100" value="92">
                                </div>
                            </div>
                            <input type="text" id="hsvInput" class="color-input mt-3" value="hsv(230, 56%, 92%)" readonly>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="randomColor()">
                            <i class="fas fa-random"></i> ÈöèÊú∫È¢úËâ≤
                        </button>
                        <button class="btn btn-success" onclick="copyColor()">
                            <i class="fas fa-copy"></i> Â§çÂà∂‰ª£Á†Å
                        </button>
                    </div>
                </div>
                
                <div>
                    <h5 class="mb-3"><i class="fas fa-th"></i> Âø´ÈÄüÈ¢úËâ≤</h5>
                    <div class="quick-colors" id="quickColors"></div>
                    
                    <h5 class="mb-3 mt-4"><i class="fas fa-swatchbook"></i> Material Design Ë∞ÉËâ≤Êùø</h5>
                    <div class="palette-grid" id="materialPalette"></div>
                    
                    <h5 class="mb-3 mt-4"><i class="fas fa-adjust"></i> È¢úËâ≤Ê∏êÂèòÈ¢ÑËßà</h5>
                    <div class="gradient-preview" id="gradientPreview">
                        Linear Gradient
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <p>New ToolsHub - Inspired by xJavaFxTool | Comprehensive Developer Tools</p>
        </div>
    </footer>

    <script>
        // Material Design Colors
        const materialColors = [
            '#F44336', '#E91E63', '#9C27B0', '#673AB7', '#3F51B5', '#2196F3',
            '#03A9F4', '#00BCD4', '#009688', '#4CAF50', '#8BC34A', '#CDDC39',
            '#FFEB3B', '#FFC107', '#FF9800', '#FF5722', '#795548', '#9E9E9E',
            '#607D8B', '#000000', '#FFFFFF'
        ];
        
        let currentColor = { r: 102, g: 126, b: 234, a: 1 };
        
        function init() {
            // Generate quick colors
            const quickColorsContainer = document.getElementById('quickColors');
            materialColors.forEach(color => {
                const div = document.createElement('div');
                div.className = 'quick-color';
                div.style.background = color;
                div.onclick = () => setColorFromHex(color);
                quickColorsContainer.appendChild(div);
            });
            
            // Generate palette
            const paletteContainer = document.getElementById('materialPalette');
            materialColors.forEach(baseColor => {
                const shades = generateShades(baseColor);
                shades.forEach(shade => {
                    const div = document.createElement('div');
                    div.className = 'palette-item';
                    div.style.background = shade;
                    div.style.color = isLight(shade) ? '#000' : '#fff';
                    div.textContent = shade.toUpperCase();
                    div.onclick = () => setColorFromHex(shade);
                    paletteContainer.appendChild(div);
                });
            });
            
            updateAllInputs();
        }
        
        function generateShades(hex) {
            const rgb = hexToRgb(hex);
            const shades = [];
            for (let i = 0; i <= 100; i += 20) {
                const factor = i / 100;
                const r = Math.round(rgb.r + (255 - rgb.r) * (1 - factor) * 0.5);
                const g = Math.round(rgb.g + (255 - rgb.g) * (1 - factor) * 0.5);
                const b = Math.round(rgb.b + (255 - rgb.b) * (1 - factor) * 0.5);
                shades.push(rgbToHex(r, g, b));
            }
            return shades.reverse();
        }
        
        function isLight(hex) {
            const rgb = hexToRgb(hex);
            return (rgb.r * 0.299 + rgb.g * 0.587 + rgb.b * 0.114) > 186;
        }
        
        function setColorFromHex(hex) {
            const rgb = hexToRgb(hex);
            currentColor = { ...rgb, a: 1 };
            updateAllInputs();
        }
        
        function updateAllInputs() {
            const { r, g, b, a } = currentColor;
            const hex = rgbToHex(r, g, b);
            const hsl = rgbToHsl(r, g, b);
            const hsv = rgbToHsv(r, g, b);
            
            // Update preview
            document.getElementById('colorPreview').style.background = hex;
            document.getElementById('previewText').textContent = hex;
            document.getElementById('previewText').style.color = isLight(hex) ? '#000' : '#fff';
            
            // Update HEX
            document.getElementById('hexPicker').value = hex;
            document.getElementById('hexInput').value = hex;
            document.getElementById('hex8Input').value = hex + Math.round(a * 255).toString(16).padStart(2, '0').toUpperCase();
            
            // Update RGB
            document.getElementById('rSlider').value = document.getElementById('rInput').value = r;
            document.getElementById('gSlider').value = document.getElementById('gInput').value = g;
            document.getElementById('bSlider').value = document.getElementById('bInput').value = b;
            document.getElementById('aSlider').value = document.getElementById('aInput').value = Math.round(a * 100);
            document.getElementById('rgbInput').value = `rgb(${r}, ${g}, ${b})`;
            document.getElementById('rgbaInput').value = `rgba(${r}, ${g}, ${b}, ${a})`;
            
            // Update HSL
            document.getElementById('hSlider').value = document.getElementById('hInput').value = Math.round(hsl.h);
            document.getElementById('sSlider').value = document.getElementById('sInput').value = Math.round(hsl.s);
            document.getElementById('lSlider').value = document.getElementById('lInput').value = Math.round(hsl.l);
            document.getElementById('hslInput').value = `hsl(${Math.round(hsl.h)}, ${Math.round(hsl.s)}%, ${Math.round(hsl.l)}%)`;
            
            // Update HSV
            document.getElementById('hsvHSlider').value = document.getElementById('hsvHInput').value = Math.round(hsv.h);
            document.getElementById('hsvSSlider').value = document.getElementById('hsvSInput').value = Math.round(hsv.s);
            document.getElementById('hsvVSlider').value = document.getElementById('hsvVInput').value = Math.round(hsv.v);
            document.getElementById('hsvInput').value = `hsv(${Math.round(hsv.h)}, ${Math.round(hsv.s)}%, ${Math.round(hsv.v)}%)`;
            
            // Update gradient
            const complement = rgbToHex(255 - r, 255 - g, 255 - b);
            document.getElementById('gradientPreview').style.background = `linear-gradient(135deg, ${hex}, ${complement})`;
        }
        
        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : { r: 0, g: 0, b: 0 };
        }
        
        function rgbToHex(r, g, b) {
            return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();
        }
        
        function rgbToHsl(r, g, b) {
            r /= 255; g /= 255; b /= 255;
            const max = Math.max(r, g, b), min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;
            
            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
                    case g: h = ((b - r) / d + 2) / 6; break;
                    case b: h = ((r - g) / d + 4) / 6; break;
                }
            }
            
            return { h: h * 360, s: s * 100, l: l * 100 };
        }
        
        function hslToRgb(h, s, l) {
            h /= 360; s /= 100; l /= 100;
            let r, g, b;
            
            if (s === 0) {
                r = g = b = l;
            } else {
                const hue2rgb = (p, q, t) => {
                    if (t < 0) t += 1;
                    if (t > 1) t -= 1;
                    if (t < 1/6) return p + (q - p) * 6 * t;
                    if (t < 1/2) return q;
                    if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
                    return p;
                };
                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;
                r = hue2rgb(p, q, h + 1/3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1/3);
            }
            
            return { r: Math.round(r * 255), g: Math.round(g * 255), b: Math.round(b * 255) };
        }
        
        function rgbToHsv(r, g, b) {
            r /= 255; g /= 255; b /= 255;
            const max = Math.max(r, g, b), min = Math.min(r, g, b);
            let h, s, v = max;
            
            const d = max - min;
            s = max === 0 ? 0 : d / max;
            
            if (max === min) {
                h = 0;
            } else {
                switch (max) {
                    case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
                    case g: h = ((b - r) / d + 2) / 6; break;
                    case b: h = ((r - g) / d + 4) / 6; break;
                }
            }
            
            return { h: h * 360, s: s * 100, v: v * 100 };
        }
        
        function hsvToRgb(h, s, v) {
            h /= 360; s /= 100; v /= 100;
            let r, g, b;
            
            const i = Math.floor(h * 6);
            const f = h * 6 - i;
            const p = v * (1 - s);
            const q = v * (1 - f * s);
            const t = v * (1 - (1 - f) * s);
            
            switch (i % 6) {
                case 0: r = v; g = t; b = p; break;
                case 1: r = q; g = v; b = p; break;
                case 2: r = p; g = v; b = t; break;
                case 3: r = p; g = q; b = v; break;
                case 4: r = t; g = p; b = v; break;
                case 5: r = v; g = p; b = q; break;
            }
            
            return { r: Math.round(r * 255), g: Math.round(g * 255), b: Math.round(b * 255) };
        }
        
        function switchTab(tab) {
            document.querySelectorAll('.format-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.format-content').forEach(c => c.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById(tab + 'Tab').classList.add('active');
        }
        
        function randomColor() {
            currentColor = {
                r: Math.floor(Math.random() * 256),
                g: Math.floor(Math.random() * 256),
                b: Math.floor(Math.random() * 256),
                a: 1
            };
            updateAllInputs();
        }
        
        function copyColor() {
            const activeTab = document.querySelector('.format-tab.active').textContent.toLowerCase();
            let text = '';
            switch(activeTab) {
                case 'hex': text = document.getElementById('hexInput').value; break;
                case 'rgb': text = document.getElementById('rgbInput').value; break;
                case 'hsl': text = document.getElementById('hslInput').value; break;
                case 'hsv': text = document.getElementById('hsvInput').value; break;
            }
            ToolsHub.copyToClipboard(text);
        }
        
        // Event listeners
        document.getElementById('hexPicker').addEventListener('input', function() {
            setColorFromHex(this.value);
        });
        
        document.getElementById('hexInput').addEventListener('input', function() {
            if (/^#[0-9A-Fa-f]{6}$/.test(this.value)) {
                setColorFromHex(this.value);
            }
        });
        
        // RGB sliders
        ['r', 'g', 'b'].forEach(channel => {
            document.getElementById(channel + 'Slider').addEventListener('input', function() {
                currentColor[channel] = parseInt(this.value);
                updateAllInputs();
            });
            document.getElementById(channel + 'Input').addEventListener('input', function() {
                currentColor[channel] = parseInt(this.value) || 0;
                updateAllInputs();
            });
        });
        
        document.getElementById('aSlider').addEventListener('input', function() {
            currentColor.a = parseInt(this.value) / 100;
            updateAllInputs();
        });
        
        // HSL sliders
        document.getElementById('hSlider').addEventListener('input', updateFromHsl);
        document.getElementById('sSlider').addEventListener('input', updateFromHsl);
        document.getElementById('lSlider').addEventListener('input', updateFromHsl);
        
        function updateFromHsl() {
            const h = parseInt(document.getElementById('hSlider').value);
            const s = parseInt(document.getElementById('sSlider').value);
            const l = parseInt(document.getElementById('lSlider').value);
            const rgb = hslToRgb(h, s, l);
            currentColor = { ...rgb, a: currentColor.a };
            updateAllInputs();
        }
        
        // HSV sliders
        document.getElementById('hsvHSlider').addEventListener('input', updateFromHsv);
        document.getElementById('hsvSSlider').addEventListener('input', updateFromHsv);
        document.getElementById('hsvVSlider').addEventListener('input', updateFromHsv);
        
        function updateFromHsv() {
            const h = parseInt(document.getElementById('hsvHSlider').value);
            const s = parseInt(document.getElementById('hsvSSlider').value);
            const v = parseInt(document.getElementById('hsvVSlider').value);
            const rgb = hsvToRgb(h, s, v);
            currentColor = { ...rgb, a: currentColor.a };
            updateAllInputs();
        }
        
        window.addEventListener('load', init);
    </script>
    <script src="../js/main.js"></script>
</body>
</html>
